sudo: required
language: php
dist: trusty

php:
- 7.3

before_install:
  - sudo apt-get update -qq
  - sudo apt-get install sqlite3

install:
  - cp .env.testing .env
  - travis_retry composer install --no-interaction --prefer-dist --no-suggest
  - nvm install 10.15.3
  - npm install npm@latest -g
  - npm install

before_script:
  - touch database/physistrong.sqlite
  - cp .env.testing .env
  - npm run production

script:
  - vendor/bin/phpcs
  - vendor/bin/phpunit